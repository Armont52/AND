#스폰 보호
execute as @e[x=88,y=-64,z=-358,dx=400,dy=400,dz=300,type=minecraft:tnt] at @s run kill @s
execute as @e[x=88,y=-64,z=-358,dx=400,dy=400,dz=300,type=minecraft:creeper] at @s run data merge entity @s {ExplosionRadius:0}
execute if score autogamemode main matches 1 as @a[name=!Armont52,name=!SPark92,gamemode=!survival,gamemode=!spectator] unless entity @s[x=88,y=-64,z=-358,dx=400,dy=400,dz=300] at @s run gamemode survival @s
execute if score autogamemode main matches 1 as @a[x=88,y=-64,z=-358,dx=400,dy=400,dz=300,name=!Armont52,name=!SPark92,gamemode=!adventure,gamemode=!spectator] at @s run gamemode adventure @s

#관리자
execute as @p[name=Armont52,team=!op,team=!hc_afk,team=!Live] run team join op @s
execute if entity @p[name=SPark92,team=!hc_afk,gamemode=!adventure,gamemode=!survival,team=!Live] run team join op SPark92
execute if entity @p[name=SPark92,team=!hc_afk,gamemode=!creative,gamemode=!spectator] run team leave SPark92

#최적화
execute if score automobspawn main matches 1 unless entity @a[gamemode=!creative,gamemode=!spectator] run gamerule doMobSpawning false
execute if score automobspawn main matches 1 if entity @a[gamemode=!creative,gamemode=!spectator] run gamerule doMobSpawning true

#Live Mode
scoreboard players enable @a live
execute as @a[team=!Live,scores={live=1}] run tellraw @s ["",{"text":"Live","color":"red"},{"text":" \ubaa8\ub4dc\ub97c \ud65c\uc131\ud654\ud558\uba74 ","bold":true},{"text":"\ub2c9\ub124\uc784\uc774 ","bold":true,"color":"yellow"},{"text":"\ube68\uac04\uc0c9","bold":true,"color":"red"},{"text":"\uc73c\ub85c \ud45c\uc2dc","bold":true,"color":"yellow"},{"text":"\ub418\uba70\n\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\ub4e4\uc774 \ubc29\uc1a1","bold":true},{"text":"/"},{"text":"\ub179\ud654\uc911\uc784\uc744 \uc54c \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4","bold":true},{"text":".\n\n"},{"text":"\ud56d\uc0c1 \ubcf8\uc778\uc744 \ud3ec\ud568\ud55c \ubaa8\ub4e0 \ud50c\ub808\uc774\uc5b4\uc758 ","bold":true},{"text":"\uac1c\uc778\uc815\ubcf4","bold":true,"color":"yellow"},{"text":"\uac00\n\uc601\uc0c1","bold":true},{"text":"/"},{"text":"\uc74c\uc131\uc5d0 ","bold":true},{"text":"\ub178\ucd9c\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc720\uc758","bold":true,"color":"yellow"},{"text":"\ud574 \uc8fc\uc2dc\uae38 \ubc14\ub78d\ub2c8\ub2e4","bold":true},{"text":".\n\n"},{"text":"[","color":"aqua","hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"Live","color":"red","clickEvent":{"action":"run_command","value":"/trigger live set 2"},"hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ubaa8\ub4dc \ud65c\uc131\ud654","bold":true,"color":"aqua","clickEvent":{"action":"run_command","value":"/trigger live set 2"},"hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"aqua","hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"\n\n"},{"text":"Uni-Craft\uc5d0\uc11c\ub294 \ubc29\uc1a1 \uc911\uc5d0 \ubc1c\uc0dd\ud558\ub294\n\uac08\ub4f1 \ubc0f \ubd84\uc7c1\uc5d0 \ub300\ud574 \ucc45\uc784\uc744 \uc9c0\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4","bold":true,"color":"gray"},{"text":".","color":"gray"}]
execute as @a[team=!Live,scores={live=1}] run scoreboard players reset @s live
execute as @a[scores={live=2}] run tellraw @s ["",{"text":"\n"},{"text":"Live","color":"red"},{"text":" \ubaa8\ub4dc\uac00 \ud65c\uc131\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4","bold":true},{"text":"."}]
execute as @a[scores={live=2}] run scoreboard players set @s live 4
execute as @a[scores={live=4},team=!hc_afk] run team join Live @s
execute as @a[team=Live,scores={live=1}] run tellraw @s ["",{"text":"Live","color":"red"},{"text":" \ubaa8\ub4dc\ub97c \ube44\ud65c\uc131\ud654\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c","bold":true},{"text":"?\n"},{"text":"[","color":"aqua","hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"Live","color":"red","clickEvent":{"action":"run_command","value":"/trigger live set 3"},"hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ubaa8\ub4dc \ube44\ud65c\uc131\ud654","bold":true,"color":"aqua","clickEvent":{"action":"run_command","value":"/trigger live set 3"},"hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"aqua","hoverEvent":{"action":"show_text","contents":"Live \ubaa8\ub4dc\ub97c \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}}]
execute as @a[team=Live,scores={live=1}] run scoreboard players set @s live 4
execute as @a[scores={live=3}] run tellraw @s ["",{"text":"\n"},{"text":"Live","color":"red"},{"text":" \ubaa8\ub4dc\uac00 \ube44\ud65c\uc131\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4","bold":true},{"text":"."}]
execute as @a[scores={live=3}] run team leave @s
execute as @a[scores={live=3}] run scoreboard players reset @s live

#bgm mode
scoreboard players enable @a bgm
execute as @a[tag=!bgm,scores={bgm=1}] run tellraw @s ["",{"text":"\n"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold"},{"text":" \uc124\uc815 \ud654\uba74\uc785\ub2c8\ub2e4","bold":true},{"text":".\n"},{"text":"\ubc30\uacbd\uc74c\uc545\uc744 \ud65c\uc131\ud654\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c","bold":true},{"text":"?\n\n"},{"text":"[","color":"aqua"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger bgm set 2"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ud65c\uc131\ud654","bold":true,"color":"aqua","clickEvent":{"action":"run_command","value":"/trigger bgm set 2"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"aqua"}]
execute as @a[tag=bgm,scores={bgm=1}] run tellraw @s ["",{"text":"\n"},{"text":"\ubc30\uacbd\uc74c\uc545 ","bold":true,"color":"gold"},{"text":"\uc124\uc815 \ud654\uba74\uc785\ub2c8\ub2e4","bold":true},{"text":".\n"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold"},{"text":"\uc744 ","bold":true},{"text":"\ube44\ud65c\uc131\ud654","bold":true,"color":"red"},{"text":"\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c","bold":true},{"text":"?\n\n"},{"text":"[","color":"red"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger bgm set 3"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ube44\ud65c\uc131\ud654","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger bgm set 3"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"red"}]
execute as @a[scores={bgm=1}] run scoreboard players reset @s bgm
execute as @a[scores={bgm=2}] run tellraw @s ["",{"text":"\n"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold"},{"text":"\uc774 ","bold":true},{"text":"\ud65c\uc131\ud654","bold":true,"color":"aqua"},{"text":"\ub418\uc5c8\uc2b5\ub2c8\ub2e4","bold":true},{"text":".\n\n"},{"text":"[","color":"red"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger bgm set 3"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ube44\ud65c\uc131\ud654","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger bgm set 3"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"red"}]
execute as @a[scores={bgm=2}] run tag @s add bgm
execute as @a[scores={bgm=3}] run tellraw @s ["",{"text":"\n"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold"},{"text":"\uc774 ","bold":true},{"text":"\ube44\ud65c\uc131\ud654","bold":true,"color":"red"},{"text":"\ub418\uc5c8\uc2b5\ub2c8\ub2e4","bold":true},{"text":".\n\n"},{"text":"[","color":"aqua"},{"text":"\ubc30\uacbd\uc74c\uc545","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger bgm set 2"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":" \ud65c\uc131\ud654","bold":true,"color":"aqua","clickEvent":{"action":"run_command","value":"/trigger bgm set 2"},"hoverEvent":{"action":"show_text","contents":"\ubc30\uacbd\uc74c\uc545\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}},{"text":"]","color":"aqua"}]
execute as @a[scores={bgm=3}] run tag @s remove bgm
execute as @a[scores={bgm=1..4}] run scoreboard players set @s bgm 0